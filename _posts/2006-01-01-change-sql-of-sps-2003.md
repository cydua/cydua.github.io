---
title: "变更SPS2003的数据库服务器"
date: 2006-01-01 13:00:00
layout: post
categories: SharePoint
tags: SharePoint
---

在以前的Blog上面曾经对这个方法曾经进行过描述，但是当时没有验证。这次服务器坏了，终于有机会进行验证了。只不过这次不是服务器升级，而是服务器坏了，要换成新的服务器。

下面是引用的原来Blog内容。

* 场景：
  用户的SQL Server 2000服务器需要扩容，原本想做SQL Server服务器群，后来客户决定从新建SQL Server服务器，SPS使用新的SQL Server 2000服务器。

* 方法：

  1. 在“配置服务器场拓扑结构”中去掉服务器场中所有的服务器角色的设置。
  2. 在“指定配置数据库服务器”中断开与当前的数据库服务器的连接。
  3. 将旧的数据库实例暂停，复制SPS的配置数据库和内容数据库的数据文件和事务日志文件到新的数据库实例上面上。
  4. 在新的数据库实例上面创建配置数据库和内容数据库。数据库的名称不能改变。
  5. 在新的数据库实例上配置新的帐号。帐号应使用原来的数据库帐号。
  6. 回到SPS的“指定配置数据库服务器”，当中按照“连接到现有的配置数据库”进行配置。
  7. 重新启动“SSO”服务，并将服务改为“自动”。
  8. 重新启动SPS服务器。

> 说明：
>
> 第8步，不知道什么服务需要新启动，所以干脆重新启动了服务器。各位同学可以试试看，到底是哪个服务器需要重新启动。

此外需要说明的是，除了SPS的以外，WSS的配置数据库和内容数据库也需要调整。在调整完成以后，需要把旧的服务器从服务器列表中删除。